workflow simple_job {
  on: [push, pull_request]

  job build {
    runs_on: ubuntu-latest
    steps: [
      uses("actions/checkout@v4"),
      run("npm install"),
      run("npm test")
    ]
  }

  job deploy {
    runs_on: ubuntu-latest
    needs: [build]
    if: github.ref == "refs/heads/main"
    steps: [
      uses("actions/checkout@v4"),
      run("npm run deploy")
    ]
  }
}
